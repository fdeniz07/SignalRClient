<!DOCTYPE html>
<html lang="en">

<head>
    <!--Referans sirasi önemli. Önce Signalr sonra Jquery kütüphanesi -->

    <script src="signalr.min.js"></script>
    <script src="jquery.min.js"></script>

    <script>
        $(document).ready(() => {
            const connection = new signalR.HubConnectionBuilder().withUrl("https://localhost:7003/myhub").build();

            connection.start();


            $("#btnGonder").click(() => {
                let message = $("#txtMessage").val();
                connection.invoke("SendMessageAsync", message).catch(error => console.log(`Mesaj gönderilirken hata olustu. ${error}`));
            });

            connection.on("receiveMessage", message => {
                $("div").append(message + "<br>");
            })
        });
    </script>

</head>

<body>

    <input type="text" id="txtMessage">
    <button id="btnGonder">Gönder</button>

    <div></div>

</body>

</html>